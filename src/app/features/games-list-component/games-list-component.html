<h1>Recherchez un événement</h1>

<app-search-bar (filtersChanged)="addfilter($event)"></app-search-bar>

@if (filters.length > 0) {
<div class="active-filters">
  @for (filter of filters ; track filter.name) {
  <span class="tag">
    {{ filter.name }}
    <span class="type">{{ filter.type }}</span>
    <button (click)="deleteFilter(filter)">×</button>
  </span>
  }
  <button (click)="deleteAllFilters()">Effacer tous les filtres</button>
</div>
}

@if (!isEmpty) {
<div class="meetup-container">
  @for (meetup of meetups$ | async; track meetup.id ) {
  <app-meetup-card [meetup]="meetup">
  </app-meetup-card>
  }
</div>
}@else {
  <h2>Aucun evenement ne correspond a votre recherche</h2>
}


@if (meetupNumber > pageSize ) {
<div class="pagination">
  <button (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">Précédent</button>
  <span>Page {{ currentPage }}</span>
  <button (click)="changePage(currentPage + 1)" [disabled]="currentPage * pageSize >= meetupNumber">Suivant</button>
</div>
}