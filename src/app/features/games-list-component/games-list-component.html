<h1>Recherchez un événement</h1>

<app-search-bar (filtersChanged)="onFiltersChanged($event)"></app-search-bar>

@if (searchBarFilters.length > 0) {
  <div class="active-filters">
    @for (filter of searchBarFilters; track filter.name) {
      <span class="tag">
        {{ filter.name }}
        <span class="type">{{ filter.type }}</span>
        <button (click)="deleteFilter(filter)">×</button>
      </span>
    }
  </div>
}

@for (meetup of filteredEvents; track meetup.id) {
  <app-meetup-card [meetup]="meetup">
  </app-meetup-card>
}

@if (totalEvents > pageSize) {
  <div class="pagination">
    <button (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">Précédent</button>
    <span>Page {{ currentPage }}</span>
    <button (click)="changePage(currentPage + 1)" [disabled]="currentPage * pageSize >= totalEvents">Suivant</button>
  </div>
}
