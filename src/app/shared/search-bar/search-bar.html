<div class="search-container">
  <input
    type="text"
    [(ngModel)]="searchTerm"
    (input)="onSearchChange()"
    placeholder="Rechercher un événement..."
    class="search-input"
  />

  @if (suggestions$ | async ; as suggestions) {
    @if (suggestions.length > 0) {
      <ul class="suggestions">
        @for (item of suggestions; track item.name) {
          <li (click)="selectItem(item)">
            {{ item.name || item.title }}
            <span class="label">{{ item.type }}</span>
          </li>
        }
      </ul>
    }
  }

  @if (selectedFilters.length > 0) {
    <div class="selected-tags">
      @for (filter of selectedFilters; track filter.id) {
        <span class="tag">
          {{ filter.name }}
          <span class="type">{{ filter.type }}</span>
          <button (click)="removeFilter(filter)">×</button>
        </span>
      }
    </div>
  }
</div>
